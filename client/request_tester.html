<!DOCTYPE html>
<html>
<head>
	<title>Demo</title>
	<style>
		*{font-family:sans-serif;}
	</style>
</head>
<body>

<h2>Recipe list and search</h2>

<input type="text" placeholder="search query"/>
<input type="text" placeholder="tags, separated with |"/>

<hr/>

<h2>Recipe info</h2>

<input type="text" placeholder="id"/>

<hr/>

<h2>Display Image</h2>

<input type="text" placeholder="id"/>

<img src=""/>

<hr/>

<h2>Upload File</h2>

<input type="file" id="file_input_dom"/><button id="submit_dom">Get BASE64</button>


</body>
<script>
function convertFileToBase64viaFileReader(url, callback){
    var xhr = new XMLHttpRequest();
    xhr.responseType = 'blob';
    xhr.onload = function() {
      var reader  = new FileReader();
      reader.onloadend = function () {
          callback(reader.result);
      }
      reader.readAsDataURL(xhr.response);
    };
    xhr.open('GET', url);
    xhr.send();
}

submit_dom.onclick = () => {
	let file = file_input_dom.files[0];
	let dataURL = "";
	console.log(file);
	let reader  = new FileReader();
    reader.onload = function (e) {
    	dataURL = e.target.result;
    }
    reader.onloadend = function(){
    	// access to image as base64
    	// this is a string that starts with data:image/
    	console.log(dataURL);
    }
    reader.readAsDataURL(file);
}

</script>
</html>